<!DOCTYPE html><html><head><title>WebSocket Test</title></head><body><h1>🧪 WebSocket Test</h1><div id="status">🔄 Connecting...</div><button onclick="sendTest()">📤 Send Test</button><h3>Log:</h3><textarea id="log" readonly style="width:100%;height:200px;"></textarea><script>let socket=null;let log=document.getElementById("log");let status=document.getElementById("status");function addLog(msg){const time=new Date().toLocaleTimeString();log.value+=`[${time}] ${msg}
`;log.scrollTop=log.scrollHeight;}function updateStatus(msg,className){status.textContent=msg;status.className=className;}try{socket=new WebSocket("ws://localhost:3001");socket.onopen=function(){addLog("✅ Connected to WebSocket server");updateStatus("✅ Connected","connected");const msg={type:"TEST",message:"Hello Server!"};socket.send(JSON.stringify(msg));addLog("�� Sent: "+JSON.stringify(msg));};socket.onmessage=function(event){addLog("📨 Received: "+event.data);};socket.onclose=function(){addLog("🔌 Disconnected");updateStatus("❌ Disconnected","disconnected");};socket.onerror=function(error){addLog("❌ Error: "+error);updateStatus("❌ Error","disconnected");};}catch(error){addLog("❌ Failed to connect: "+error.message);updateStatus("❌ Failed","disconnected");}function sendTest(){if(socket&&socket.readyState===WebSocket.OPEN){const msg={type:"TEST_MESSAGE",data:"Test from client"};socket.send(JSON.stringify(msg));addLog("📤 Sent test: "+JSON.stringify(msg));}else{addLog("❌ Not connected");}}</script></body></html>
