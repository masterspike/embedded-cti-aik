<!DOCTYPE html><html><head><title>WebSocket Test</title></head><body><h1>ğŸ§ª WebSocket Test</h1><div id="status">ğŸ”„ Connecting...</div><button onclick="sendTest()">ğŸ“¤ Send Test</button><h3>Log:</h3><textarea id="log" readonly style="width:100%;height:200px;"></textarea><script>let socket=null;let log=document.getElementById("log");let status=document.getElementById("status");function addLog(msg){const time=new Date().toLocaleTimeString();log.value+=`[${time}] ${msg}
`;log.scrollTop=log.scrollHeight;}function updateStatus(msg,className){status.textContent=msg;status.className=className;}try{socket=new WebSocket("ws://localhost:3001");socket.onopen=function(){addLog("âœ… Connected to WebSocket server");updateStatus("âœ… Connected","connected");const msg={type:"TEST",message:"Hello Server!"};socket.send(JSON.stringify(msg));addLog("ï¿½ï¿½ Sent: "+JSON.stringify(msg));};socket.onmessage=function(event){addLog("ğŸ“¨ Received: "+event.data);};socket.onclose=function(){addLog("ğŸ”Œ Disconnected");updateStatus("âŒ Disconnected","disconnected");};socket.onerror=function(error){addLog("âŒ Error: "+error);updateStatus("âŒ Error","disconnected");};}catch(error){addLog("âŒ Failed to connect: "+error.message);updateStatus("âŒ Failed","disconnected");}function sendTest(){if(socket&&socket.readyState===WebSocket.OPEN){const msg={type:"TEST_MESSAGE",data:"Test from client"};socket.send(JSON.stringify(msg));addLog("ğŸ“¤ Sent test: "+JSON.stringify(msg));}else{addLog("âŒ Not connected");}}</script></body></html>
